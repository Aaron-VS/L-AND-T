<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Quiz App</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(to right top, #65dfc9, #6cdbeb);
            color: #343a40;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        .quiz-container {
            max-width: 650px;
            width: 100%;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        /* Animation for question fade-in */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #quiz-screen h2 {
            animation: fadeIn 0.5s ease-out;
        }

        .btn-custom {
            background-color: #0093E9;
            background-image: linear-gradient(160deg, #0093E9 0%, #80D0C7 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 147, 233, 0.4);
        }
        .btn-custom:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 147, 233, 0.5);
        }
        .option-btn {
            display: block;
            width: 100%;
            margin: 10px 0;
            text-align: left;
            padding: 15px 25px;
            border-radius: 12px;
            border: 1px solid #ddd;
            background-color: #fff;
            color: #343a40;
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            position: relative; /* For pseudo-elements */
        }
        .option-btn:hover:not(:disabled) {
            background-color: #e9ecef;
            transform: scale(1.02);
        }

        /* Correct/Incorrect feedback icons */
        .option-btn::after {
            content: '';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .option-btn.correct {
            background-color: #28a745 !important;
            color: white !important;
            border-color: #28a745;
        }
        .option-btn.correct::after {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
            opacity: 1;
        }
        .option-btn.incorrect {
            background-color: #dc3545 !important;
            color: white !important;
            border-color: #dc3545;
        }
        .option-btn.incorrect::after {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E");
            opacity: 1;
        }

        .timer {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            background-image: linear-gradient(160deg, #0093E9 0%, #80D0C7 100%);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px auto;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        #results-screen h2 {
            font-weight: 700;
            color: #0093E9;
        }
        #score {
            font-weight: 700;
            color: #28a745;
        }
        .progress-bar {
            background-color: #0093E9;
            background-image: linear-gradient(160deg, #0093E9 0%, #80D0C7 100%);
        }
        #start-screen h1 {
            font-weight: 700;
            color: #343a40;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="quiz-container text-center">
            <!-- Start Screen -->
            <div id="start-screen">
                <h1 class="mb-4">General Knowledge Quiz</h1>
                <p class="lead mb-4">Test your knowledge with this fun and interactive quiz!</p>
                <button id="start-btn" class="btn btn-custom btn-lg">Start Quiz</button>
            </div>

            <!-- Quiz Screen -->
            <div id="quiz-screen" class="d-none">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div id="progress-text" class="font-weight-bold">Question 1/5</div>
                    <div class="timer" id="timer">15</div>
                </div>
                <div class="progress mb-4" style="height: 10px; border-radius: 5px;">
                    <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 20%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <h2 id="question" class="mb-4 font-weight-bold">Question text goes here?</h2>
                <div id="options" class="list-group">
                    <!-- Options will be dynamically inserted here -->
                </div>
            </div>

            <!-- Results Screen -->
            <div id="results-screen" class="d-none">
                <h2>Quiz Complete!</h2>
                <p class="lead">You've reached the end of the quiz.</p>
                <h3 class="my-4">Your Score: <span id="score"></span></h3>
                <button id="restart-btn" class="btn btn-custom">Play Again</button>
            </div>
        </div>
    </div>

    <!-- jQuery and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function() {
            const quizData = [
                {
                    question: "What is the capital of France?",
                    options: ["Berlin", "Madrid", "Paris", "Rome"],
                    answer: "Paris"
                },
                {
                    question: "Which planet is known as the Red Planet?",
                    options: ["Earth", "Mars", "Jupiter", "Venus"],
                    answer: "Mars"
                },
                {
                    question: "Who wrote the play 'Romeo and Juliet'?",
                    options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Mark Twain"],
                    answer: "William Shakespeare"
                },
                {
                    question: "What is the largest ocean on Earth?",
                    options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"],
                    answer: "Pacific Ocean"
                },
                {
                    question: "What is the chemical symbol for water?",
                    options: ["O2", "H2O", "CO2", "NaCl"],
                    answer: "H2O"
                }
            ];

            let currentQuestionIndex = 0;
            let score = 0;
            let timer;
            let timeLeft = 15;

            // Function to start the quiz
            function startQuiz() {
                $('#start-screen').addClass('d-none');
                $('#results-screen').addClass('d-none');
                $('#quiz-screen').removeClass('d-none');
                currentQuestionIndex = 0;
                score = 0;
                showQuestion();
            }

            // Function to display a question
            function showQuestion() {
                // Reset animation
                $('#question').css('animation', 'none');
                
                if (currentQuestionIndex < quizData.length) {
                    let currentQuestion = quizData[currentQuestionIndex];
                    $('#question').text(currentQuestion.question);
                    
                    // Trigger reflow to restart animation
                    $('#question')[0].offsetHeight; 
                    $('#question').css('animation', 'fadeIn 0.5s ease-out');

                    $('#options').empty();
                    currentQuestion.options.forEach(function(option) {
                        // CORRECTED: Added backticks for template literal
                        $('#options').append(`<button class="btn option-btn">${option}</button>`);
                    });

                    // Update progress
                    let progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
                    $('#progress-bar').css('width', progress + '%').attr('aria-valuenow', progress);
                    // CORRECTED: Added backticks for template literal
                    $('#progress-text').text(`Question ${currentQuestionIndex + 1}/${quizData.length}`);
                    
                    startTimer();
                } else {
                    showResults();
                }
            }

            // Function to handle option selection
            function selectOption(selectedButton) {
                clearInterval(timer);
                $('.option-btn').prop('disabled', true); // Disable all options

                let selectedAnswer = $(selectedButton).text();
                let correctAnswer = quizData[currentQuestionIndex].answer;

                if (selectedAnswer === correctAnswer) {
                    score++;
                    $(selectedButton).addClass('correct');
                } else {
                    $(selectedButton).addClass('incorrect');
                    // Highlight the correct answer
                    $('.option-btn').each(function() {
                        if ($(this).text() === correctAnswer) {
                            $(this).addClass('correct');
                        }
                    });
                }

                setTimeout(function() {
                    currentQuestionIndex++;
                    showQuestion();
                }, 1500); // Wait 1.5 seconds before showing the next question
            }

            // Function to start the timer
            function startTimer() {
                timeLeft = 15;
                $('#timer').text(timeLeft);
                timer = setInterval(function() {
                    timeLeft--;
                    $('#timer').text(timeLeft);
                    if (timeLeft <= 0) {
                        clearInterval(timer);
                        $('.option-btn').prop('disabled', true); // Disable options
                        // Highlight the correct answer if time runs out
                        let correctAnswer = quizData[currentQuestionIndex].answer;
                        $('.option-btn').each(function() {
                            if ($(this).text() === correctAnswer) {
                                $(this).addClass('correct');
                            }
                        });
                        setTimeout(function() {
                            currentQuestionIndex++;
                            showQuestion();
                        }, 1500);
                    }
                }, 1000);
            }

            // Function to show the results
            function showResults() {
                $('#quiz-screen').addClass('d-none');
                $('#results-screen').removeClass('d-none');
                // CORRECTED: Added backticks for template literal
                $('#score').text(`${score} out of ${quizData.length}`);
            }

            // Event Handlers
            $('#start-btn').on('click', startQuiz);
            $('#restart-btn').on('click', startQuiz);
            $('#options').on('click', '.option-btn', function() {
                selectOption(this);
            });
        });
    </script>

</body>
</html>
